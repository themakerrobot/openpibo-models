# Process Test

파이보 부품들의 정상 동작 여부를 테스트하는 프로그램입니다.

__사용 방법__

```bash
$ cd ~/openpibo-tools/process-test
$ sudo python3 main.py
```

프로그램 실행 시 다음과 같은 화면이 출력됩니다.

![image-20210820110653606](images/process_test/processtest.png)

상단에서 기기의 시리얼넘버와 버전을 조회할 수 있으며, 부품의 ``NAME`` 을 입력하여 테스트할 수 있습니다.

각 테스트를 마치면 테스트가 성공적으로 동작했는지를 확인하는 커멘드 ``y`` / ``n`` 를 타이핑 합니다.

**Command**

- **oled** : OLED 패널을 테스트합니다.
  
  - 파이보 OLED 화면에 `Oled Testing...` 이라고 출력
  
  ![image-20210907145853637](images/process_test/image-20210907145853637.png)



- **audio** : 스피커를 테스트합니다.
  - 5초간 음악 재생 -> 2초 음소거 -> 5초간 음악 재생 -> 음악 중지



- **motor** : 서보모터의 작동을 테스트합니다.

  모터당 3회씩 동작하며, 하나라도 작동이 안되면 실패 입니다.

  순서는 아래와 같습니다.

  1. `foot_right`
  2. `leg_right`
  3. `shoulder_right`
  4. `hand_right`
  5. `head_pan`
  6. `head_tilt`
  7. `foot_left`
  8. `leg_left`
  9. `shoulder_left`
  10. `hand_left`



- **mic** : 마이크를 테스트합니다.

  1. 5초간 음성을 녹음합니다.

     (아래 화면이 출력됩니다)

     ![image-20210907141722024](images/process_test/image-20210907141722024.png)

  2. 5초 뒤 녹음한 음성이 그대로 출력되는지 확인합니다.

     

- **camera** : 카메라를 테스트합니다.

  OLED 화면에 5초간 카메라 캡쳐 이미지 출력 후 꺼짐

  ![image-20210907150123624](images/process_test/image-20210907150123624.png)



- **neopixel** : LED (파이보 눈) 를 테스트합니다.

  R -> G -> B 순서대로 변함 (각 2초씩)

  ![image-20210907150306438](images/process_test/image-20210907150306438.png)



- **pir** : PIR 센서를 테스트합니다.

  20초간 테스트 진행, 1초마다 테스트 메시지 출력

  - 파이보 앞에 사람이 있으면 `[ person ]` 메시지 출력

  - 사람이 없으면 `[ nobody ]` 메시지가 출력되며, 다시 사람이 올때까지 메시지 출력 중지

  (테스트 결과는 아래 화면처럼 출력됩니다)

  ![image-20210907143454951](images/process_test/image-20210907143454951.png)

  

- **touch** : 터치센서를 테스트합니다.

  10초간 테스트 진행, 1초마다 테스트 메시지 출력

  - 파이보 이마를 쓰다듬으면 `[ touch ]` 메시지 출력

    단, 계속 쓰다듬으면 소용이 없고, 쓰다듬기 시작할때만 출력

  - 이마를 쓰다듬지 않으면 `[ No signal ]` 메시지 출력

  (테스트 결과는 아래 화면처럼 출력됩니다)

  ![image-20210907144023124](images/process_test/image-20210907144023124.png)

  

- **button** : 전원 버튼을 테스트합니다.

  10초간 진행, 1초마다 테스트 메시지 출력

  - 전원버튼을 누르고 있으면 `[ on ]` 메시지 출력

    (한번만 눌렀다 떼면 신호를 감지하지 못 함)

  - 전원버튼을 누르지 않으면 `[ No signal ]` 메시지 출력

  (테스트 결과는 아래 화면처럼 출력됩니다)

  ![image-20210907144318481](images/process_test/image-20210907144318481.png)

  

- **dc** : 충전기 연결상태를 테스트합니다.

  10초간 진행, 1초마다 테스트 메시지 출력

  - 충전기를 연결할 때 `[ on ]` 메시지 출력
  - 충전기 연결을 해제할 때 `[ off ]` 메시지 출력
  - 충전기 연결상태에 변화가 없을 때 `[ No signal ]` 메시지 출력

  (테스트 결과는 아래 화면처럼 출력됩니다)

  ![image-20210907144633893](images/process_test/image-20210907144633893.png)

  

- **battery** : 배터리를 테스트합니다.

  배터리 잔량 화면에 표시

  (테스트 결과)

  ![image-20210907144753187](images/process_test/image-20210907144753187.png)

  

- **quit** : 테스트를 종료합니다.

  테스트 종료 및 테스트 결과 반환

  ![image-20210907150707394](images/process_test/image-20210907150707394.png)
